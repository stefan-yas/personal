---
// src/components/EasterEgg.astro
const targetUrl = "https://plunkplunkplunk.xyz/"; // You can change this URL
---

<img id="easter-egg" class="fluffy-circle" src="/ellipse.svg" alt="A fluffy ellipse." />

<style>
  @keyframes slideInFromRight {
    from {
      transform: translateX(150%);
      opacity: 0;
      border-color: rgba(25, 75, 63, 0);
    }
    to {
      transform: translateX(0);
      opacity: 0.8;
      border-color: rgba(25, 75, 63, 0.8);
    }
  }

  @keyframes slideInFromTop {
    from {
      transform: translateY(-150%);
      opacity: 0;
      border-color: rgba(25, 75, 63, 0);
    }
    to {
      transform: translateY(0);
      opacity: 0.8;
      border-color: rgba(25, 75, 63, 0.8);
    }
  }

  .fluffy-circle {
    position: fixed;
    bottom: 20px;
    right: 20px;
    width: 3em;
    cursor: pointer;
    z-index: 102;
    border: 2px solid rgba(25, 75, 63, 0.8); /* Match default opacity */
    border-radius: 50%;
    box-sizing: border-box;

    opacity: 0; /* Start hidden */
    animation: slideInFromRight 0.5s ease-out 2s forwards;
  }

  .fluffy-circle:hover {
    transition: transform 330ms ease-in-out;
    transform: scale(1.07);
  }

  .fluffy-circle.clicked {
    transition: transform 50ms ease-in-out;
    transform: scale(1.3);
    opacity: 0.99;
    border-color: rgba(25, 75, 63, 0.99);
    animation: pulse 0.5s ease-in-out;
  }

  @keyframes pulse {
    0% {
      transform: scale(1);
      border-color: rgba(25, 75, 63, 0.8);
    }
    50% {
      transform: scale(1.3);
      border-color: rgba(25, 75, 63, 0.99);
    }
    100% {
      transform: scale(1);
      border-color: rgba(25, 75, 63, 0.8);
    }
  }

  @media (max-width: 600px) {
    .fluffy-circle {
      top: 20px;
      left: 20px;
      bottom: auto;
      right: auto;
      animation-name: slideInFromTop;
    }
  }
</style>

<script define:vars={{ targetUrl }}>
  document.getElementById('easter-egg').addEventListener('click', function() {
    this.classList.add('clicked');
    setTimeout(() => {
      window.location.href = targetUrl;
    }, 500); // Wait for the animation to finish before redirecting
  });
</script>